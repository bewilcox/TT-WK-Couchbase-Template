//
// Created on $today.date ( Date ISO $today.date("yyyy-MM-dd") - Time $today.time )
// Generated by $generator.name ( version $generator.version )
//

//----------------------------------------------------------------------------------
//-- FOR VIEW all_${entity.name}s
//----------------------------------------------------------------------------------
// Script view to get all document with the id pattern "${entity.name}:id"
function (doc, meta) {
  if(meta.id.match("${entity.name}:")) (
   emit(meta.id, null)
  )
}


## Link fields = fields not in Primary Key and used as FK in selected Links    
#set( $linkFields = $entity.getAttributesByCriteria( $const.NOT_KEY, $const.IN_SELECTED_LINKS ) )
##--------------------------------------------------------------------------------------------------------
#foreach( $link in $entity.selectedLinks )
#if($link.isCardinalityManyToOne() || $link.isCardinalityOneToOne())
#if($link.isFetchLAZY())
//----------------------------------------------------------------------------------
//-- FOR VIEW ${entity.name}s_by_${link.formatedName(0)}.js
//----------------------------------------------------------------------------------
function (doc, meta) {
  if(meta.id.match("${entity.name}:")) (
   emit(doc.${link.formatedName(0)}, null)
  )
}
#end
#end
#end